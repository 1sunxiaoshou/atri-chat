# 日志级别控制快速指南

## 方法一：环境变量（推荐）

### 1. 修改 .env 文件
```bash
# 开发环境 - 查看所有详细日志
LOG_LEVEL=DEBUG

# 生产环境 - 只记录重要信息
LOG_LEVEL=INFO

# 生产环境 - 只记录警告和错误
LOG_LEVEL=WARNING
```

### 2. 重启应用
```bash
python main.py
```

## 方法二：命令行启动

### Windows
```bash
# 临时设置为 DEBUG
set LOG_LEVEL=DEBUG && python main.py

# 临时设置为 INFO
set LOG_LEVEL=INFO && python main.py

# 临时设置为 WARNING
set LOG_LEVEL=WARNING && python main.py
```

### Linux/Mac
```bash
# 临时设置为 DEBUG
LOG_LEVEL=DEBUG python main.py

# 临时设置为 INFO
LOG_LEVEL=INFO python main.py

# 临时设置为 WARNING
LOG_LEVEL=WARNING python main.py
```

## 方法三：运行时动态修改

在代码中动态修改（不推荐，仅用于调试）：

```python
from core.logger import set_log_level, get_log_level

# 查看当前日志级别
current_level = get_log_level()
print(f"当前日志级别: {current_level}")

# 修改为 DEBUG（查看详细日志）
set_log_level("DEBUG")

# 修改为 INFO（正常运行）
set_log_level("INFO")

# 修改为 WARNING（只看警告和错误）
set_log_level("WARNING")
```

## 日志级别说明

| 级别 | 用途 | 适用场景 |
|------|------|----------|
| `TRACE` | 最详细的追踪信息 | 极少使用，深度调试 |
| `DEBUG` | 详细的调试信息 | 开发环境，问题排查 |
| `INFO` | 一般信息 | 生产环境，记录关键流程 |
| `SUCCESS` | 成功操作信息 | 记录成功的重要操作 |
| `WARNING` | 警告信息 | 生产环境，潜在问题 |
| `ERROR` | 错误信息 | 所有环境，错误追踪 |
| `CRITICAL` | 严重错误 | 所有环境，系统崩溃 |

## 推荐配置

### 开发环境
```bash
LOG_LEVEL=DEBUG
```
- 查看所有日志
- 便于调试和问题定位
- 日志文件会比较大

### 测试环境
```bash
LOG_LEVEL=INFO
```
- 记录关键业务流程
- 过滤掉调试信息
- 日志文件适中

### 生产环境
```bash
LOG_LEVEL=WARNING
```
- 只记录警告和错误
- 减少日志量
- 提高性能

或者：
```bash
LOG_LEVEL=INFO
```
- 记录关键业务流程
- 便于监控和审计
- 日志文件较大

## 验证日志级别

启动应用后，查看控制台输出：
```
初始化系统... (日志级别: INFO)
```

或者查看日志文件：
```bash
# Windows
type logs\app.log

# Linux/Mac
tail -f logs/app.log
```

## 常见问题

### 1. 修改 .env 后没有生效？
- 确保重启了应用
- 检查 .env 文件格式是否正确
- 确认没有拼写错误

### 2. 日志太多，影响性能？
- 生产环境使用 `WARNING` 或 `INFO`
- 避免在循环中使用 `DEBUG` 日志
- 定期清理旧日志文件

### 3. 找不到某些日志？
- 检查日志级别是否过高
- 确认日志分类是否正确
- 查看对应的分类日志文件

### 4. 如何只看错误日志？
```bash
# 设置级别为 ERROR
LOG_LEVEL=ERROR

# 或者直接查看 error.log
type logs\error.log
```
